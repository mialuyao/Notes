
混淆电路分为以下几步

1. Alice生成混淆电路

   1. 对线路进行标注，生成随机字符串$A_0,A_1$等，分别对应逻辑$0$和$1$

      > 但是真正的逻辑对应关系只有Alice知道，Bob不知道

   2. 对真值表进行替换

      以与门为例

      $\begin{matrix} 
      x & y & z \\ 
      0 & 0 & 0 \\ 
      0 &1 & 0 \\ 
      1 & 0 & 0 \\ 
      1& 1 & 1 \end{matrix} 
      \overset{字符串替换}{\rightarrow} 
      \begin{matrix} x & y & z \\ 
      A_0 & B_0 & E_0 \\
      A_0 & B_1  & E_0 \\ 
      A_1 & B_0 & E_0 \\ 
      A_1 & B_1 & E_1 
      \end{matrix}$

   3. ==对称加密==

      用$x,y$对应的值加密$z$，得到
      $\begin{matrix} x & y & z \\ 
      A_0 & B_0 & En c_{A_0,B_0}(E_0) \\
      A_0 & B_1  & Enc_{A_0,B_1}(E_1) \\ 
      A_1 & B_0 & Enc_{A_1,B_0}(E_0) \\ 
      A_1 & B_1 & Enc_{A_1,B_1}(E_1) \\ 
      \end{matrix}$

   4. 打乱真值表

      即行与行之间交换。

2. Alice与Bob通信

   1. Alice将自己秘密对应的字符串$A_0$发送给Bob（只有Alice知道$A_0$对应的是1还是0）
   2. Bob以OT的方式获得自己输入对应的字符串，即Bob在$\{B_0,B_1\}$中得到一个（假设得到$B_0$），但是Alice并不知道Bob选择了哪一个，同时也不知道Bob的秘密输入。

3. Bob开始解密

   - Bob拥有所有的标签值（即Alice发给他的$A_0$和自己通过OT获得的）
   - Bob只能解密出一行，并且得到$E_0$，但是并不知道$E_0$对应的是0还是1。

4. 共享结果

   Bob将解密出的结果$E_0$分享给Alice，Alice分享$E_0$对应的逻辑值。
